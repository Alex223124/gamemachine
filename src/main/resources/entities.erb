	
	public Components toComponents() {
		Components components = new Components();
		for (Entity entity : this.entities.values()) {
			for (Map.Entry<String, Component> entry : entity.getComponents().entrySet()) {
				<% names.each do |name| %>
				if (entry.getKey().equals("<%=name%>")) {
					components.add<%=name%>(<%=name%>.class.cast(entry.getValue()));
				}
				<% end %>
			}
		}
		return components;
	}

