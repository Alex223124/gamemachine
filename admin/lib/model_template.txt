module EntitySystem
  class KLASS
    include ActiveModel::Model
    include ActiveModel::AttributeMethods

    attribute_method_prefix 'clear_'
    define_attribute_methods ATTRIB_METHODS
    attr_accessor ATTRIB_METHODS

    def clear_attribute(attr)
      send("#{attr}=", nil)
    end

    def to_message
      MESSAGE_KLASS.new(MESSAGE_ARGS)
    end
  end
end
