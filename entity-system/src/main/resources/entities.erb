
public static Components fromEntities(Entities entities) {
	Components components = new Components();
	for (Entity entity : entities.getEntities().values()) {
		for (Map.Entry<String, Component> entry : entity.getComponents().entrySet()) {
			<% names.each do |name| %>
			<% name = name.slice!(0).upcase + name %>
			if (entry.getKey().equals("<%=name%>")) {
				components.add<%=name%>(<%=name%>.class.cast(entry.getValue()));
			}
			<% end %>
		}
	}
	return components;
}

